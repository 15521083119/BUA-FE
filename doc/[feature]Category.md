# Category

## 需求分析

在对分类进行需求分析之前，我们需要提前预想到分类是和商品进行挂钩的。

### 提炼功能

#### 宫格分类

提供前端展示，点击后跳转到导航分类的具体类目下，并展示相关商品。

#### 导航分类

典型联动需求，左侧根据不同的类目会展示不同的商品。这里需要注意两个细节点：

- 全量返回数据，有便于前端展示时提高用户体验度
- 需要对全量返回的商品信息做精简，减少http传输过程中的压力

> 因为本校外卖业务所能能承受的商品量并不大。一个二类本科学校食堂还能卖出花儿？



### 数据表设计

由于分类业务数据库设计还是稍微有点麻烦，因此单拎出一篇文章进行分享。

[category表设计](./[datebase]category.md)

## RD

### 数据层（entity、repo）

#### entity


#### repo

根据需求需要提供如下查询操作：

- 查询所有宫格分类数据
- 查询所有分类并携带具体的spu信息

`getAllGridData`方法用于检索所有宫格数据，平淡的一条sql即可实现,在此不做演示。

`getAllCategoryWithSpu`方法用于检索所有分类数据，并携带对应的商品。先延迟思考，等设计完商品表时候再回来编写。

- [ ] spu表设计

### 接口约定

#### 获取宫格

`v1/category/gird`

```json
req: query参数names=x,y,z

res:

```

#### 获取所有分类并携带spu

`v1/category/all/with_spu`

```json
req:

res:

```

由于该模块业务代码较为简单，重点在于数据库表设计，因此完整代码请查阅对应的分支。

